% Chapter 1

\chapter{Introduction} % Main chapter title

\label{Chapter1} % For referencing the chapter elsewhere, use \ref{Chapter1} 

%----------------------------------------------------------------------------------------

% Define some commands to keep the formatting separated from the content 
\newcommand{\keyword}[1]{\textbf{#1}}
\newcommand{\tabhead}[1]{\textbf{#1}}
\newcommand{\code}[1]{\texttt{#1}}
\newcommand{\file}[1]{\texttt{\bfseries#1}}
\newcommand{\option}[1]{\texttt{\itshape#1}}
\newcommand{\rightarrowdbl}{\rightarrow\mathrel{\mkern-14mu}\rightarrow}

%----------------------------------------------------------------------------------------

\section{Background and Motivation}
Sleep apnea is a sleep disorder that happens when breathing is interrupted during sleep. The interruption is caused by either the soft tissue in the back of the throat that collapses and blocks the airway, or the breathing muscles failed to receive signals from brain, or both. Interruption in breathing leads to lack of oxygen to the brain and the rest of body, which causes many health problems such as high blood pressure, heart failure, irregular heartbeats, headaches, etc. One of sixth adults in Norway are suffering from Obstructive Sleep Apnea in a report from helsenorge.no \citep{HELSENORGES}, and another report illustrates that one fifth of the US adults are affected from the illness, and about 90\% of all US adults are undiagnosed \citep{SLEEP_M_UNDIAG}.\\\\
To determine sleep disorders, a polysomnogram is considered the gold-standard for diagnosing the illness. A polysomnogram is both a diagnostic tool, and research tool that is used for determining sleep disorders. However, the polysomnogram requires a patient to stay overnight at a sleep laboratory where the patient is monitored by qualified personnel \citep{NCBINLM}. This procedure is inflexible, time consuming, and costly. With polysomnogram, the collected data are stored on a stationary machine at the clinic, hence, it is difficult for patients to access their data in case they want to share the collected data, i.e. to another physician or clinic. Beside the polysomnogram, there are many wearable sensor kits that can be used for collecting bio-physiological samples. By using these kits, patients do not need to stay overnight at a clinic to be monitored during their sleep. They can stay at home, collect samples, then send the data to physicians after the collection process is finished. Currently, the wearable sensor kits that can be used for diagnosis at home can be divided into two types. The first type is certified sensor kits such as NoxT3, NoxA1, etc., that is usually included analysis software, user manuals, etc. However, devices of this type are usually very expensive, a NOX-T3 sensor kits with software and user manuals from nox-medical costs 55000kr plus value added tax\citep{Thomas}. Another type is consumer electronic sensor kits such as BITalino, that often come with reasonable or even low price, because the quality of signals have not been approved, or maybe they are not good as the signals from the certified sensor kits. Moreover, analysis softwares are rarely included, users have to buy the related softwares, or have to implement analysis applications based on sensor kits specifications in order to use the sensor kits. At the time of this writing, the bio-physiological signals that are collected from these kits are kept in files which have low level abstraction. That is, a entire recording is kept in a file on the collector devices, i.e. a telephone or a table, then the whole file is forward to an analysis station or a clinic. It is inefficient if the patients are required to send some part of the record.\\\\
Today, mobile devices are popular, and the processing capacity and storage space are constantly increasing while the price is decreasing monthly. Devices that are powered by Android and iOS can be used as a collector for the wearable kits, in which a high level abstraction for storing bio-physiological signals can be used by including metadata in the collected samples. It is much easier to find, export, analyze, etc., the data compared with a low level abstraction file. The Android and iOS operative systems integrate the SQLite database management system which allows to store the bio-physiological signals in a relational database. By using SQL queries, patients can easily choose samples from the channels they want to export and send to physicians. Moreover, data analyses can also be performed directly on mobile devices, and only results from the analyses can be sent to the physicians.
\section{Problem Statement}
Bio-physiology signals are usually stored in different formats which are defined by different clinics. In other words, each clinic has each own format to store and manipulate bio-signals. Therefore, to use the collected data outside of the clinic, the corresponding software packages, or at least the format specifications are needed. Moreover, an analysis function need to be written for each data analysis, because most of the formats for storing bio-physiology signals are defined as low abstraction level such as files with indexing primitive. Hence, the difficulties of programming and analyzing bio-physiological data are increasing. Therefore, it is imperative to develop a system that is not only opening to store all bio-physiological data, but also easy analyzing data. This can be achieved by defining a relational database model and a database application. Hence, bio-physiological data can be translated into tables and relations, which can be easily analyzed by leveraging the advantages of SQL, and easy to extent by adding new tables and relations. However, defining a relational database model that is opened to store all bio-physiological data, and creating a database application that works as a wrapper for all data sources is challenging. It is because the diverse formats of data sources causes difficulties to define an universal interface, which can support not only importing data from current data sources, but also opening for future data sources. In addition, the challenge also comes from the limitation in hardware of a mobile device. The storage space of a mobile device cannot hold multiple long records, i.e., overnight collected records, hence, a design must take the overhead of the metadata, or data backup into considering. Moreover, the battery of the device need to be recharged, or the device even need to plug in power adapter during the collection process in order to avoid losing data.
\section{Contributions}
Today, most of the mobile devices are powered by an operative system such as Android, iOS that is integrated a database management system, i.e. SQLite. Therefore, this thesis proposes an open database model and a database application for storing Obstructive Sleep Apnea monitoring data and other bio-physiology signals on an Android device. The thesis defines and analyzes requirements for a relational database model that can be used for not only storing data from the CESAR acquisition tool and EDF/EDF plus files, but also opening for other bio-physiological data. As a result, a platform independent database model is proposed, followed by a physical database model for the SQLite database management system which is integrated in the Android operative system. The thesis also designs and develops a database application, in which two sensor wrappers are provided to import data from the CESAR acquisition tool and the EDF/EDF plus files. The database application also allows users to perform data analysis by using SQL queries, or by visualizing the collected data on a graphical view.
\section{Structure of the Thesis}
Chapter 1 presents an overview over the motivations for the thesis, the problems the thesis has to deal with, and the contributions of this thesis. Chapter 2 provides a general discussion of the Sleep Apnea illness, in which a taxonomy of the illness and observable characteristics of Obstructive Sleep Apnea are presented. Data sources that are used in this thesis are discussed in Chapter 3. There are two types of sensor sources that are presented in the chapter; a real time source which is the BITalino sensor platform, and a non-real time source which are the databases from Physionet. Specifications for these sources are also presented in this chapter, and they are the foundation for the later chapters. A database model for Obstructive Sleep Apnea monitoring data and other bio-physiological data is introduced in Chapter 4. In this chapter, requirements for the database model design are carefully discussed, then step by step the database modeling is presented. Results from Chapter 4 are a platform independent database model (logical model) and a specific database model for SQLite (physical model) that are implemented in the next chapter. Chapter 5 proposes a database application for the designed database model in Chapter 4. At first, a database application design is provided. The design can be implemented on an Android or iOS devices, or even on a personal computer. The Android operative system is chosen as an implementation platform for the design in the last section of the chapter. The efficient of the database design and database application is evaluated in Chapter 6 by performing different experiments on the database application. Finally, a synthesis is made, open problems are discussed, and future works are addressed in Chapter 7.
